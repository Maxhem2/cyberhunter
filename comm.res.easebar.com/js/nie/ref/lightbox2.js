var _____WB$wombat$assign$function_____ = function(name) {return (self._wb_wombat && self._wb_wombat.local_init && self._wb_wombat.local_init(name)) || self[name]; };
if (!self.__WB_pmw) { self.__WB_pmw = function(obj) { this.__WB_source = obj; return this; } }
{
  let window = _____WB$wombat$assign$function_____("window");
  let self = _____WB$wombat$assign$function_____("self");
  let document = _____WB$wombat$assign$function_____("document");
  let location = _____WB$wombat$assign$function_____("location");
  let top = _____WB$wombat$assign$function_____("top");
  let parent = _____WB$wombat$assign$function_____("parent");
  let frames = _____WB$wombat$assign$function_____("frames");
  let opener = _____WB$wombat$assign$function_____("opener");

!function(t,i){"function"==typeof define&&define.amd?define(["jquery"],i):"object"==typeof exports?module.exports=i(require("jquery")):t.lightbox=i(t.jQuery)}(this,function(t){function i(i){this.$window=t(window),this.album=[],this.currentImageIndex=void 0,this.options=t.extend({},this.constructor.defaults),this.option(i),this.getCss()}return i.defaults={albumLabel:"\u56fe\u7247 %1 \u5171 %2",alwaysShowNavOnTouchDevices:!1,fadeDuration:300,fitImagesInViewport:!0,positionFromTop:50,resizeDuration:500,showImageNumberLabel:!0,wrapAround:!1,disableScrolling:!1,name:""},i.prototype.option=function(i){t.extend(this.options,i)},i.prototype.imageCountLabel=function(t,i){return this.options.albumLabel.replace(/%1/g,t).replace(/%2/g,i)},i.prototype.init=function(){this.enable(),this.build()},i.prototype.enable=function(){var i=this;t("body").on("click","a[rel^=lightbox], area[rel^=lightbox], a[data-lightbox], area[data-lightbox]",function(e){return i.containerTopPadding=parseInt(i.$container.css("padding-top"),10),i.containerRightPadding=parseInt(i.$container.css("padding-right"),10),i.containerBottomPadding=parseInt(i.$container.css("padding-bottom"),10),i.containerLeftPadding=parseInt(i.$container.css("padding-left"),10),i.start(t(e.currentTarget)),!1})},i.prototype.build=function(){var i=this;t('<div id="lightboxOverlay" class="lightboxOverlay"></div><div id="lightbox" class="lightbox"><div class="lb-outerContainer"><div class="lb-container"><img class="lb-image" src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" /><div class="lb-nav"><a class="lb-prev" href="" ></a><a class="lb-next" href="" ></a></div><div class="lb-loader"><a class="lb-cancel"></a></div></div></div><div class="lb-dataContainer"><div class="lb-data"><div class="lb-details"><span class="lb-caption"></span><span class="lb-number"></span></div><div class="lb-closeContainer"><a class="lb-close"></a></div></div></div></div>').appendTo(t("body")),this.$lightbox=t("#lightbox"),this.$overlay=t("#lightboxOverlay"),this.$outerContainer=this.$lightbox.find(".lb-outerContainer"),this.$container=this.$lightbox.find(".lb-container"),this.$overlay.hide().on("click",function(){return i.end(),!1}),this.$lightbox.hide().on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$outerContainer.on("click",function(e){return"lightbox"===t(e.target).attr("id")&&i.end(),!1}),this.$lightbox.find(".lb-prev").on("click",function(){return i.changeImage(0===i.currentImageIndex?i.album.length-1:i.currentImageIndex-1),!1}),this.$lightbox.find(".lb-next").on("click",function(){return i.changeImage(i.currentImageIndex===i.album.length-1?0:i.currentImageIndex+1),!1}),this.$lightbox.find(".lb-loader, .lb-close").on("click",function(){return i.end(),!1})},i.prototype.start=function(i){function e(t){n.album.push({link:t.attr("href"),title:t.attr("data-title")||t.attr("title")})}var n=this;n.$window.on("resize",t.proxy(this.resizeImage,this)),t("select, object, embed").css({visibility:"hidden"}),this.album=[];var o,a=0,s=i.attr("data-lightbox");if(s){o=t(i.prop("tagName")+'[data-lightbox="'+s+'"]');for(var r=0;r<o.length;r=++r)e(t(o[r])),o[r]===i[0]&&(a=r)}else if("lightbox"===i.attr("rel"))e(i);else{o=t(i.prop("tagName")+'[rel="'+i.attr("rel")+'"]');for(var h=0;h<o.length;h=++h)e(t(o[h])),o[h]===i[0]&&(a=h)}n.$window.scrollTop()+this.options.positionFromTop;n.options.fitImagesInViewport&&this.$lightbox.addClass("fitImagesInViewport"),this.$lightbox.fadeIn(this.options.fadeDuration),t("html").addClass("lb-disable-scrolling"),this.changeImage(a)},i.prototype.changeImage=function(i){var e=this;this.disableKeyboardNav();var n=this.$lightbox.find(".lb-image");this.$overlay.fadeIn(this.options.fadeDuration),t(".lb-loader").fadeIn("slow"),this.$lightbox.find(".lb-image, .lb-nav, .lb-prev, .lb-next, .lb-dataContainer, .lb-numbers, .lb-caption").hide(),this.$outerContainer.addClass("animating");var o=new Image;o.onload=function(){this.onload=null;var a,s,r,h,l,d,g,c;n.attr("src",e.album[i].link),a=t(o),s=o.height,r=o.width,n.width(o.width),n.height(o.height),g=e.$window.width(),d=e.$window.height(),l=g-e.containerLeftPadding-e.containerRightPadding-50,c=e.$lightbox.find(".lb-dataContainer").height(),e.options.fitImagesInViewport?h=d-e.containerTopPadding-e.containerBottomPadding-2*e.options.positionFromTop-c:(l=l>o.width?o.width:l,h=s),e.options.maxWidth&&e.options.maxWidth<l&&(l=e.options.maxWidth),e.options.maxHeight&&e.options.maxHeight<l&&(h=e.options.maxHeight),(o.width>l||o.height>h)&&(o.width/l>o.height/h?(r=l,s=parseInt(o.height/(o.width/r),10),n.width(r),n.height(s)):(s=h,r=parseInt(o.width/(o.height/s),10),n.width(r),n.height(s)));var b;b=s>d-60?d/2:(c+s+60)/2,e.$lightbox.animate({marginTop:"-"+b+"px"},e.options.resizeDuration,"swing"),e.sizeContainer(n.width(),n.height())},this.currentImageIndex=i,o.src=this.album[i].link,e.options.fitImagesInViewport||e.$lightbox.scrollTop(0)},i.prototype.resizeImage=function(){var t=this,i=this.$lightbox.find(".lb-image");this.getImgNaturalDimensions(i[0],function(e,n){var o,a,s,r,h,l=e,d=n;i.width(l),i.height(d),r=t.$window.width(),s=t.$window.height(),a=r-t.containerLeftPadding-t.containerRightPadding-50,h=t.$lightbox.find(".lb-dataContainer").height(),t.options.fitImagesInViewport?o=s-t.containerTopPadding-t.containerBottomPadding-2*t.options.positionFromTop-h:(a=a>e?e:a,o=d),t.options.maxWidth&&t.options.maxWidth<a&&(a=t.options.maxWidth),t.options.maxHeight&&t.options.maxHeight<a&&(o=t.options.maxHeight),(e>a||n>o)&&(e/a>n/o?(l=a,d=parseInt(n/(e/l),10),i.width(l),i.height(d)):(d=o,l=parseInt(e/(n/d),10),i.width(l),i.height(d)));var g;g=d>s-60?s/2:(h+d+60)/2,t.$lightbox.animate({marginTop:"-"+g+"px"},t.options.resizeDuration,"swing"),t.sizeContainer(l,d)})},i.prototype.getImgNaturalDimensions=function(t,i){var e,n;if(t.naturalWidth)e=t.naturalWidth,n=t.naturalHeight,i(e,n);else{var o=new Image;o.src=t.src,o.onload=function(){i(o.width,o.height)}}},i.prototype.sizeContainer=function(t,i){function e(){n.$lightbox.find(".lb-dataContainer").width(s),n.$lightbox.find(".lb-prevLink").height(r),n.$lightbox.find(".lb-nextLink").height(r),n.showImage()}var n=this,o=this.$outerContainer.outerWidth(),a=this.$outerContainer.outerHeight(),s=t+this.containerLeftPadding+this.containerRightPadding,r=i+this.containerTopPadding+this.containerBottomPadding;o!==s||a!==r?this.$outerContainer.animate({width:s,height:r},this.options.resizeDuration,"swing",function(){e()}):e()},i.prototype.showImage=function(){this.$lightbox.find(".lb-loader").stop(!0).hide(),this.$lightbox.find(".lb-image").fadeIn("slow"),this.updateNav(),this.updateDetails(),this.preloadNeighboringImages(),this.enableKeyboardNav()},i.prototype.updateNav=function(){var t=!1;try{document.createEvent("TouchEvent"),t=this.options.alwaysShowNavOnTouchDevices?!0:!1}catch(i){}this.$lightbox.find(".lb-nav").show(),this.album.length>1&&(this.options.wrapAround?(t&&this.$lightbox.find(".lb-prev, .lb-next").css("opacity","1"),this.$lightbox.find(".lb-prev, .lb-next").show()):(this.currentImageIndex>0&&(this.$lightbox.find(".lb-prev").show(),t&&this.$lightbox.find(".lb-prev").css("opacity","1")),this.currentImageIndex<this.album.length-1&&(this.$lightbox.find(".lb-next").show(),t&&this.$lightbox.find(".lb-next").css("opacity","1"))))},i.prototype.updateDetails=function(){if("undefined"!=typeof this.album[this.currentImageIndex].title&&""!==this.album[this.currentImageIndex].title&&this.$lightbox.find(".lb-caption").text(this.album[this.currentImageIndex].title).fadeIn("fast").find("a").on("click",function(i){i.preventDefault(),void 0!==t(this).attr("target")?window.open(t(this).attr("href"),t(this).attr("target")):location.href=t(this).attr("href")}),this.album.length>1&&this.options.showImageNumberLabel){var i=this.imageCountLabel(this.currentImageIndex+1,this.album.length);this.$lightbox.find(".lb-number").text(i).fadeIn("fast")}else this.$lightbox.find(".lb-number").hide();this.$outerContainer.removeClass("animating"),this.$lightbox.find(".lb-dataContainer").fadeIn(this.options.resizeDuration)},i.prototype.preloadNeighboringImages=function(){if(this.album.length>this.currentImageIndex+1){var t=new Image;t.src=this.album[this.currentImageIndex+1].link}if(this.currentImageIndex>0){var i=new Image;i.src=this.album[this.currentImageIndex-1].link}},i.prototype.enableKeyboardNav=function(){t(document).on("keyup.keyboard",t.proxy(this.keyboardAction,this))},i.prototype.disableKeyboardNav=function(){t(document).off(".keyboard")},i.prototype.keyboardAction=function(t){var i=27,e=37,n=39,o=t.keyCode,a=String.fromCharCode(o).toLowerCase();o===i||a.match(/x|o|c/)?this.end():"p"===a||o===e?0!==this.currentImageIndex?this.changeImage(this.currentImageIndex-1):this.options.wrapAround&&this.album.length>1&&this.changeImage(this.album.length-1):("n"===a||o===n)&&(this.currentImageIndex!==this.album.length-1?this.changeImage(this.currentImageIndex+1):this.options.wrapAround&&this.album.length>1&&this.changeImage(0))},i.prototype.end=function(){var i,e=this;e.$lightbox.fadeOut(e.options.fadeDuration),e.$overlay.fadeOut(e.options.fadeDuration),e.disableKeyboardNav(),e.$window.off("resize",e.resizeImage),clearTimeout(i),i=setTimeout(function(){t("select, object, embed").css({visibility:"visible"}),t("html").removeClass("lb-disable-scrolling")},e.options.fadeDuration)},i.prototype.getCss=function(){var i=this,e=["https://web.archive.org/web/20240127183050/https://nie.res.netease.com/comm/js/nie/ref/css/lightbox.css"];t.include(e,function(){i.init()})},new i});

}
/*
     FILE ARCHIVED ON 18:30:50 Jan 27, 2024 AND RETRIEVED FROM THE
     INTERNET ARCHIVE ON 19:35:04 Feb 16, 2025.
     JAVASCRIPT APPENDED BY WAYBACK MACHINE, COPYRIGHT INTERNET ARCHIVE.

     ALL OTHER CONTENT MAY ALSO BE PROTECTED BY COPYRIGHT (17 U.S.C.
     SECTION 108(a)(3)).
*/
/*
playback timings (ms):
  captures_list: 0.674
  exclusion.robots: 0.036
  exclusion.robots.policy: 0.022
  esindex: 0.012
  cdx.remote: 27.499
  LoadShardBlock: 234.093 (3)
  PetaboxLoader3.datanode: 113.245 (4)
  PetaboxLoader3.resolve: 261.472 (2)
  load_resource: 146.699
*/